<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="main.css">
    <script src="results.js" type="module"></script>
    <!-- Tell browsers not to scale the viewport automatically -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wiseman</title>
    <link rel="icon" href="favicon.ico" />

    <title>Chat</title>
    <style>
      #chat-log {
        width: 500px;
        height: 500px;
        border: 1px solid black;
        overflow-y: scroll;
      }
    </style>
  </head>
  <body>
    <!-- Use header, main, and footer elements to give semantic structure -->
    <header>
      <h1>Wiseman<sup>&reg;</sup></h1>

      <!-- Navigation elements -->
      <nav>
        <!-- Menu is a semantic alternative to <ul> that represents an interaction -->
        <menu>
          <li><a href="index.html">Home</a></li>
          <li><a href="spotify.html">Spotify Login</a></li>
          <li><a href="results.html">Results</a></li>
        </menu>
      </nav>
      <hr />
    </header>

    <!-- <section id="profile">
      <h2>Logged in as <span id="displayName"></span></h2>
      <span id="avatar"></span>
      <ul>
          <li>User ID: <span id="id"></span></li>
          <li>Email: <span id="email"></span></li>
          <li>Spotify URI: <a id="uri" href="#"></a></li>
          <li>Link: <a id="url" href="#"></a></li>
          <li>Profile Image: <span id="imgUrl"></span></li>
      </ul>
      </section> -->


    <main>
      <section id="top data">
        <h1>Results</h1>
        <p>Welcome <span id="displayName"></span></p>
        <!-- This data will be stored in users wiseman database to reference in the future -->
        <div id="database placeholder"></div>
        <!-- This is a placeholder for where this information will be pushed to database -->
        <h2>Artists</h2>
        <ul>
          <li>
            <h3><span id="artistName1"></span></h3>
            <ul>
              <li><span id="artist1Song1"></span></li>
              <li><span id="artist1Song2"></span></li>
              <li><span id="artist1Song3"></span></li>
              <li><span id="artist1Song4"></span></li>
              <li><span id="artist1Song5"></span></li>
            </ul>
          </li>
          <li>
            <h3><span id="artistName2"></span></h3>
            <ul>
              <li><span id="artist2Song1"></span></li>
              <li><span id="artist2Song2"></span></li>
              <li><span id="artist2Song3"></span></li>
              <li><span id="artist2Song4"></span></li>
              <li><span id="artist2Song5"></span></li>
            </ul>
          </li>
          <li>
            <h3><span id="artistName3"></span></h3>
            <ul>
              <li><span id="artist3Song1"></span></li>
              <li><span id="artist3Song2"></span></li>
              <li><span id="artist3Song3"></span></li>
              <li><span id="artist3Song4"></span></li>
              <li><span id="artist3Song5"></span></li>
            </ul>
          </li>
        </ul>
    </section>
      
  <div id="websocket-container">
    <div id="chat-log"></div>
    <input id="chat-message" type="text">
    <button id="send-button">Send</button>
  
    <script>
      const chatLog = document.getElementById('chat-log');
      const chatMessage = document.getElementById('chat-message');
      const sendButton = document.getElementById('send-button');
  
      const ws = new WebSocket({port:8080});
  
      ws.onmessage = (event) => {
        const message = document.createElement('div');
        message.innerText = event.data;
        chatLog.appendChild(message);
        chatLog.scrollTop = chatLog.scrollHeight;
      };
  
      sendButton.onclick = () => {
        const message = chatMessage.value;
        chatMessage.value = '';
        ws.send(message);
      };
    </script>
  </div>
    <!-- This is where websocket implementation will go displaying your friends current favorite artists-->
    </main>

    <footer>
      <hr />
      <span class="text-reset">Author Name(s)</span>
      <br />
      <a href="https://github.com/drewharts/startup">GitHub</a>
    </footer>
  </body>
</html>
